const axios = require('axios');

const api_key = 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxZTkyMjY2NzQ4MWFiMjA3ZDY0MjQ1MGIwZWZiNDYxZSIsInN1YiI6IjVlYTA5ZTZiYmU0YjM2MDAxYzU5NWExNSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Vhu0pPCiIwmtrpyOHdBlQid8HJJllaHthn1MERS_ANg';

const url = `https://api.themoviedb.org/3/trending/movie/week?language=pt-BR&api_key=${api_key}`;


async function getMoviesUpTo12() {
  try {

    const response = await axios.get(url);
    const movies = response.data.results;

    const moviesUpTo12 = movies.filter(movie => {
    
      return movie.release_date && parseInt(movie.release_date.slice(0, 4)) >= 2012;
    });


    console.log(JSON.stringify(moviesUpTo12, null, 2));
  } catch (error) {
    console.error('Erro ao obter filmes:', error.message);
  }
}

getMoviesUpTo12();
